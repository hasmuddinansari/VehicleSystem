{"ast":null,"code":"import _defineProperty from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import Auth from\"./Auth\";import{FakeData}from\"../common/Vehicle/FakeVehicleData\";import{addVehicle as _addVehicle}from\"../common/Redux/Action\";import{connect}from\"react-redux\";export var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.submit=function(){console.log(_this.state);var _this$state=_this.state,username=_this$state.username,password=_this$state.password,adminUsername=_this$state.adminUsername,adminPassword=_this$state.adminPassword;// authentication if user is valid or not\nif(username===adminUsername&&password===adminPassword){Auth.login(function(){_this.props.history.push(\"/\");});alert(\"Login Successfull\");}else{alert(\"Invalid username or password\");}};_this.state={username:\"\",password:\"\",adminUsername:\"admin\",adminPassword:\"admin\"};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(FakeData());var fakedata=FakeData();fakedata.forEach(function(vehicle){_this2.props.addVehicle(vehicle);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container d-flex justify-content-center align-items-center p-5\"},React.createElement(\"form\",{className:\"flex-column col-md-5 col-12 bg-light  border p-2 d-flex\"},React.createElement(\"h2\",{className:\"text-center text-danger\"},\"Login\"),React.createElement(TextField,{className:\"m-2\",id:\"outlined-basic\",onChange:this.handleChange,name:\"username\",placeholder:\"admin\",label:\"Username\",variant:\"outlined\"}),React.createElement(TextField,{id:\"outlined-basic\",className:\"m-2\",onChange:this.handleChange,name:\"password\",placeholder:\"admin\",label:\"Password\",variant:\"outlined\"}),React.createElement(Button,{onClick:this.submit,variant:\"outlined\",className:\"py-2  m-2 bg-dark text-white\",color:\"primary\"},\"Login\")));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addVehicle:function addVehicle(vehicle){return dispatch(_addVehicle(vehicle));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/ayaan/coding/week_12/src/components/auth/Login.js"],"names":["React","Component","TextField","Button","Auth","FakeData","addVehicle","connect","Login","props","handleChange","e","setState","target","name","value","submit","console","log","state","username","password","adminUsername","adminPassword","login","history","push","alert","fakedata","forEach","vehicle","mapStateToProps","data","mapDispatchToProps","dispatch"],"mappings":"8pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,QAAT,KAAyB,mCAAzB,CACA,OAASC,UAAU,GAAVA,CAAAA,WAAT,KAA2B,wBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,UAAaC,CAAAA,KAAb,+DACE,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAiBnBC,YAjBmB,CAiBJ,SAAAC,CAAC,CAAI,CAClB,MAAKC,QAAL,oBACGD,CAAC,CAACE,MAAF,CAASC,IADZ,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GAGD,CArBkB,OAuBnBC,MAvBmB,CAuBV,UAAM,CACbC,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAjB,EADa,gBAEgD,MAAKA,KAFrD,CAELC,QAFK,aAELA,QAFK,CAEKC,QAFL,aAEKA,QAFL,CAEeC,aAFf,aAEeA,aAFf,CAE8BC,aAF9B,aAE8BA,aAF9B,CAGb;AACA,GAAIH,QAAQ,GAAKE,aAAb,EAA8BD,QAAQ,GAAKE,aAA/C,CAA8D,CAC5DnB,IAAI,CAACoB,KAAL,CAAW,UAAM,CACf,MAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAFD,EAGAC,KAAK,CAAC,mBAAD,CAAL,CACD,CALD,IAKO,CACLA,KAAK,CAAC,8BAAD,CAAL,CACD,CACF,CAnCkB,CAEjB,MAAKR,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAGXC,aAAa,CAAE,OAHJ,CAIXC,aAAa,CAAE,OAJJ,CAAb,CAFiB,aAQlB,CATH,+EAUsB,iBAClBN,OAAO,CAACC,GAAR,CAAYb,QAAQ,EAApB,EACA,GAAMuB,CAAAA,QAAQ,CAAGvB,QAAQ,EAAzB,CACAuB,QAAQ,CAACC,OAAT,CAAiB,SAAAC,OAAO,CAAI,CAC1B,MAAI,CAACrB,KAAL,CAAWH,UAAX,CAAsBwB,OAAtB,EACD,CAFD,EAGD,CAhBH,uCAqCW,CACP,MACE,4BAAK,SAAS,CAAC,gEAAf,EACE,4BAAM,SAAS,CAAC,yDAAhB,EACE,0BAAI,SAAS,CAAC,yBAAd,UADF,CAEE,oBAAC,SAAD,EACE,SAAS,CAAC,KADZ,CAEE,EAAE,CAAC,gBAFL,CAGE,QAAQ,CAAE,KAAKpB,YAHjB,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,OALd,CAME,KAAK,CAAC,UANR,CAOE,OAAO,CAAC,UAPV,EAFF,CAWE,oBAAC,SAAD,EACE,EAAE,CAAC,gBADL,CAEE,SAAS,CAAC,KAFZ,CAGE,QAAQ,CAAE,KAAKA,YAHjB,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,OALd,CAME,KAAK,CAAC,UANR,CAOE,OAAO,CAAC,UAPV,EAXF,CAqBE,oBAAC,MAAD,EACE,OAAO,CAAE,KAAKM,MADhB,CAEE,OAAO,CAAC,UAFV,CAGE,SAAS,CAAC,8BAHZ,CAIE,KAAK,CAAC,SAJR,UArBF,CADF,CADF,CAkCD,CAxEH,mBAA2Bf,SAA3B,EA2EA,GAAM8B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAZ,KAAK,CAAI,CAC/B,MAAO,CACLa,IAAI,CAAEb,KAAK,CAACa,IADP,CAAP,CAGD,CAJD,CAKA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO,CACL5B,UAAU,CAAE,oBAAAwB,OAAO,QAAII,CAAAA,QAAQ,CAAC5B,WAAU,CAACwB,OAAD,CAAX,CAAZ,EADd,CAAP,CAGD,CAJD,CAMA,cAAevB,CAAAA,OAAO,CAACwB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CzB,KAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Auth from \"./Auth\";\nimport { FakeData } from \"../common/Vehicle/FakeVehicleData\";\nimport { addVehicle } from \"../common/Redux/Action\";\nimport { connect } from \"react-redux\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      adminUsername: \"admin\",\n      adminPassword: \"admin\"\n    };\n  }\n  componentDidMount() {\n    console.log(FakeData());\n    const fakedata = FakeData();\n    fakedata.forEach(vehicle => {\n      this.props.addVehicle(vehicle);\n    });\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  submit = () => {\n    console.log(this.state);\n    const { username, password, adminUsername, adminPassword } = this.state;\n    // authentication if user is valid or not\n    if (username === adminUsername && password === adminPassword) {\n      Auth.login(() => {\n        this.props.history.push(\"/\");\n      });\n      alert(\"Login Successfull\");\n    } else {\n      alert(\"Invalid username or password\");\n    }\n  };\n  render() {\n    return (\n      <div className=\"container d-flex justify-content-center align-items-center p-5\">\n        <form className=\"flex-column col-md-5 col-12 bg-light  border p-2 d-flex\">\n          <h2 className=\"text-center text-danger\">Login</h2>\n          <TextField\n            className=\"m-2\"\n            id=\"outlined-basic\"\n            onChange={this.handleChange}\n            name=\"username\"\n            placeholder=\"admin\"\n            label=\"Username\"\n            variant=\"outlined\"\n          />\n          <TextField\n            id=\"outlined-basic\"\n            className=\"m-2\"\n            onChange={this.handleChange}\n            name=\"password\"\n            placeholder=\"admin\"\n            label=\"Password\"\n            variant=\"outlined\"\n          />\n\n          <Button\n            onClick={this.submit}\n            variant=\"outlined\"\n            className=\"py-2  m-2 bg-dark text-white\"\n            color=\"primary\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    addVehicle: vehicle => dispatch(addVehicle(vehicle))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}