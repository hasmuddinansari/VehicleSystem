{"ast":null,"code":"import _classCallCheck from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ayaan/coding/week_12/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{addVehicle as _addVehicle,deleteVehicle as _deleteVehicle,sorting as _sorting}from\"../Redux/Action\";import{Link}from\"react-router-dom\";import VehicleTable from\"./VehicleTable\";var ViewAllVehicles=/*#__PURE__*/function(_Component){_inherits(ViewAllVehicles,_Component);function ViewAllVehicles(props){var _this;_classCallCheck(this,ViewAllVehicles);_this=_possibleConstructorReturn(this,_getPrototypeOf(ViewAllVehicles).call(this,props));_this.handleSort=function(){_this.setState({asc:!_this.state.asc});var _this$props=_this.props,data=_this$props.data,sorting=_this$props.sorting;if(_this.state.asc){sorting(data,\"asc\");}else{sorting(data,\"desc\");}};_this.state={asc:false};return _this;}_createClass(ViewAllVehicles,[{key:\"render\",value:function render(){var _this$props2=this.props,data=_this$props2.data,deleteVehicle=_this$props2.deleteVehicle,match=_this$props2.match;console.log(data);var totalSales=0;data.forEach(function(ele){totalSales+=parseInt(ele.sales);});console.log(totalSales);if(data.length==0){return React.createElement(\"h1\",{className:\"p-5 bg-danger text-white\"},\"SORRY !! Vehicle database is empty !!!!!\",React.createElement(Link,{to:\"/addVehicle\"},\"Go Back\"));}else{return React.createElement(VehicleTable,Object.assign({data:data,deleteVehicle:deleteVehicle,handleSort:this.handleSort,totalSales:totalSales,match:match},this.props));}}}]);return ViewAllVehicles;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addVehicle:function addVehicle(vehicle){return dispatch(_addVehicle(vehicle));},deleteVehicle:function deleteVehicle(id){return dispatch(_deleteVehicle(id));},sorting:function sorting(data,typeSort){return dispatch(_sorting(data,typeSort));}};};export default connect(mapStateToProps,mapDispatchToProps)(ViewAllVehicles);","map":{"version":3,"sources":["/home/ayaan/coding/week_12/src/components/common/Vehicle/ViewAllVehicles.js"],"names":["React","Component","connect","addVehicle","deleteVehicle","sorting","Link","VehicleTable","ViewAllVehicles","props","handleSort","setState","asc","state","data","match","console","log","totalSales","forEach","ele","parseInt","sales","length","mapStateToProps","mapDispatchToProps","dispatch","vehicle","id","typeSort"],"mappings":"+iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAU,GAAVA,CAAAA,WAAT,CAAqBC,aAAa,GAAbA,CAAAA,cAArB,CAAoCC,OAAO,GAAPA,CAAAA,QAApC,KAAmD,iBAAnD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,GAEMC,CAAAA,e,yEACJ,yBAAYC,KAAZ,CAAmB,iDACjB,iFAAMA,KAAN,GADiB,MAOnBC,UAPmB,CAON,UAAM,CACjB,MAAKC,QAAL,CAAc,CACZC,GAAG,CAAE,CAAC,MAAKC,KAAL,CAAWD,GADL,CAAd,EADiB,gBAIS,MAAKH,KAJd,CAITK,IAJS,aAITA,IAJS,CAIHT,OAJG,aAIHA,OAJG,CAKjB,GAAI,MAAKQ,KAAL,CAAWD,GAAf,CAAoB,CAClBP,OAAO,CAACS,IAAD,CAAO,KAAP,CAAP,CACD,CAFD,IAEO,CACLT,OAAO,CAACS,IAAD,CAAO,MAAP,CAAP,CACD,CACF,CAjBkB,CAEjB,MAAKD,KAAL,CAAa,CACXD,GAAG,CAAE,KADM,CAAb,CAFiB,aAKlB,C,mEAcQ,kBACgC,KAAKH,KADrC,CACCK,IADD,cACCA,IADD,CACOV,aADP,cACOA,aADP,CACsBW,KADtB,cACsBA,KADtB,CAEPC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACA,GAAII,CAAAA,UAAU,CAAG,CAAjB,CACAJ,IAAI,CAACK,OAAL,CAAa,SAAAC,GAAG,CAAI,CAClBF,UAAU,EAAIG,QAAQ,CAACD,GAAG,CAACE,KAAL,CAAtB,CACD,CAFD,EAGAN,OAAO,CAACC,GAAR,CAAYC,UAAZ,EAEA,GAAIJ,IAAI,CAACS,MAAL,EAAe,CAAnB,CAAsB,CACpB,MACE,2BAAI,SAAS,CAAC,0BAAd,6CAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,YAFF,CADF,CAMD,CAPD,IAOO,CACL,MACE,qBAAC,YAAD,gBACE,IAAI,CAAET,IADR,CAEE,aAAa,CAAEV,aAFjB,CAGE,UAAU,CAAE,KAAKM,UAHnB,CAIE,UAAU,CAAEQ,UAJd,CAKE,KAAK,CAAEH,KALT,EAMM,KAAKN,KANX,EADF,CAUD,CACF,C,6BAhD2BR,S,EAmD9B,GAAMuB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAX,KAAK,CAAI,CAC/B,MAAO,CACLC,IAAI,CAAED,KAAK,CAACC,IADP,CAAP,CAGD,CAJD,CAKA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO,CACLvB,UAAU,CAAE,oBAAAwB,OAAO,QAAID,CAAAA,QAAQ,CAACvB,WAAU,CAACwB,OAAD,CAAX,CAAZ,EADd,CAELvB,aAAa,CAAE,uBAAAwB,EAAE,QAAIF,CAAAA,QAAQ,CAACtB,cAAa,CAACwB,EAAD,CAAd,CAAZ,EAFZ,CAGLvB,OAAO,CAAE,iBAACS,IAAD,CAAOe,QAAP,QAAoBH,CAAAA,QAAQ,CAACrB,QAAO,CAACS,IAAD,CAAOe,QAAP,CAAR,CAA5B,EAHJ,CAAP,CAKD,CAND,CAQA,cAAe3B,CAAAA,OAAO,CAACsB,eAAD,CAAkBC,kBAAlB,CAAP,CAA6CjB,eAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addVehicle, deleteVehicle, sorting } from \"../Redux/Action\";\nimport { Link } from \"react-router-dom\";\nimport VehicleTable from \"./VehicleTable\";\n\nclass ViewAllVehicles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      asc: false\n    };\n  }\n\n  handleSort = () => {\n    this.setState({\n      asc: !this.state.asc\n    });\n    const { data, sorting } = this.props;\n    if (this.state.asc) {\n      sorting(data, \"asc\");\n    } else {\n      sorting(data, \"desc\");\n    }\n  };\n\n  render() {\n    const { data, deleteVehicle, match } = this.props;\n    console.log(data);\n    var totalSales = 0;\n    data.forEach(ele => {\n      totalSales += parseInt(ele.sales);\n    });\n    console.log(totalSales);\n\n    if (data.length == 0) {\n      return (\n        <h1 className=\"p-5 bg-danger text-white\">\n          SORRY !! Vehicle database is empty !!!!!\n          <Link to=\"/addVehicle\">Go Back</Link>\n        </h1>\n      );\n    } else {\n      return (\n        <VehicleTable\n          data={data}\n          deleteVehicle={deleteVehicle}\n          handleSort={this.handleSort}\n          totalSales={totalSales}\n          match={match}\n          {...this.props}\n        />\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    addVehicle: vehicle => dispatch(addVehicle(vehicle)),\n    deleteVehicle: id => dispatch(deleteVehicle(id)),\n    sorting: (data, typeSort) => dispatch(sorting(data, typeSort))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewAllVehicles);\n"]},"metadata":{},"sourceType":"module"}